!function(){"use strict";(new class{constructor(){this.container=document.querySelector(".container"),this.newsList=this.container.querySelector(".news_list"),this.error=this.container.querySelector(".error"),this.data=null,this.url="https://sw-0bdq.onrender.com/news"}init(){this.addServiceWorker(),this.getData(),this.createLoading()}async getData(){try{this.data=await(async e=>{const s=await fetch(e);return await s.json().catch((()=>null))})(this.url),this.newsList.replaceChildren();const e=JSON.parse(this.data.news);console.log(e),e.forEach((e=>{this.createNews(e)}))}catch(e){this.error.classList.contains("hide")&&this.error.classList.remove("hide")}}createNews(e){const s=`\n                  <div class="news data-id ="${e.id}">\n                  <div class="news_date">${e.received}</div>\n                  <div class="news_content ">\n                    <div class="news_img_box">\n                      <img src="${e.image}" alt="image">\n                    </div>\n                    <div class="news_text ">\n                    <p class="loader_title">${e.description}</p>\n                    </div>\n                  </div>\n                </div>\n        `;this.newsList.insertAdjacentHTML("afterbegin",s)}createLoading(){for(let e=0;e<3;e+=1)this.newsList.insertAdjacentHTML("afterbegin",'\n        <div class="news">\n        <div class="news_date loading "></div>\n        <div class="news_content ">\n          <div class="news_img_box loading">\n            <img>\n          </div>\n          <div class="news_text ">\n          <p class="loader_title loading"></p>\n          <p class="loader_title loading"></p>\n          <p class="loader_title loading"></p>\n          </div>\n        </div>\n      </div>\n  ')}addServiceWorker(){this.error.classList.contains("hide")||this.error.classList.add("hide"),"serviceWorker"in navigator&&navigator.serviceWorker.register("service-worker.js",{scope:"./"}).then((e=>{console.log(`registration succeded/ Scope is ${e.scope}`)})).catch((e=>{console.log(`registration failed with ${e}`)}))}}).init()}();
//# sourceMappingURL=index.js.map